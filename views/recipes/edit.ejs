<%- include('../partials/header') %>

<body id="edit-page">



    <form class="form" action="/recipes/<%= recipe._id  %>?_method=PUT" method="POST" autocomplete="off">
        <p>Edit Recipe</p>
        <label>Title:</label>
        <input type="text" value="<%= recipe.title %>" name="title"
            STYLE="background-color: rgb(223, 223, 223); border: none;box-shadow: inset 0 0 5px #00000048;">
        <label>Difficulty:</label>

        

        <select class="browser-default" name="difficulty"
            STYLE="background-color: rgb(223, 223, 223); border: none; box-shadow: inset 0 0 5px #00000048;">
            <% [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].forEach(val => { %>
            <% if(val === recipe.difficulty) { %>
            <option value="<%= val %>" selected><%= val %></option>
            <% } else { %>
            <option value="<%= val %>"><%= val %></option>
            <% } %>
            <% }) %>
        </select>

        <label>Cook Time (in minutes):</label>
        <input type="number" name="cookTime" value="<%= recipe.cookTime %>" min="1"
            STYLE="background-color: rgb(223, 223, 223); border: none;box-shadow: inset 0 0 5px #00000048;">
        
            <label>Description:</label>
        <textarea class="description" rows="20" name="description"><%= recipe.description %></textarea>

        <label>Ingredients:</label>
        <% recipe.ingredients.forEach(ing => { %>
        <div>
            <input value="<%= ing %>" class="new-input" type="text" name="ingredients" STYLE="background-color: rgb(223, 223, 223); border: none;box-shadow: inset 0 0 5px #00000048;">
        </div>

        <% }) %>
        <div id="first-ing"></div>
        <button class="form-btn" type="button" id="new-ingredient">➕</button>
        <br>
        
        <label>Instructions:</label>
        <% recipe.instructions.forEach(inst => { %>
            <div>
                <textarea class="instructions" rows="10" name="instructions"><%= inst %></textarea>
            </div>
    
            <% }) %>
            <div id="first-instruction"></div>
            <button class="form-btn" type="button" id="new-instruction">➕</button>
            <br>
                
        <input class="submit" type="submit" value="Update Recipe">
    </form>

</body>